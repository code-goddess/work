<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>对数组中的元素进行查询</title>
    <script type="text/javascript">
    //1、计算数组中每个元素出现的次数
    var arr = new Array("a", "x", "b", "d", "m", "a", "k", "m", "p", "j", "a"); //需要进行查询的数组
    var elementArr = new Array(); //用来存放数组中不重复的元素
    var sum = new Array(); //用来存放elementArr中每个元素出现的次数
    var count = 1; //初始化次数
    /*通过对arr数组中前一个元素和后一个元素的比较，如果相同就删掉后一个元素，并将重复的次数保存进sum数组*/
    for (var i = 0; i < arr.length; i++) {
        for (var j = i + 1; j < arr.length; j++) {
            if (arr[i] == arr[j]) {
                count++;
                arr.splice(j, 1);
                j--;
            }
        }
        elementArr[i] = arr[i]; //将splice后的数组赋给elementArr
        sum[i] = count; //并且将有多少个当前这样的元素的个数存入sum数组中
        count = 1; //再将count重新赋值，进入下一个元素的判断
    }
    var str = '';
    var countStr = '';
    for (var i = 0; i < elementArr.length; i++) {
        str += elementArr[i] + "出现的次数为" + sum[i] + "<br/>";
    }
    // document.write(str);
    //2、计算arr数组中谁出现的次数最多
    var newSum = new Array(); //用来存放排序之后的sum中的元素
    var maxStr = ''; //存放出现次数最多的元素，以及个数
    //计算出出现元素最多的个数
    for (var temp in sum) {
        newSum[temp] = sum[temp];
    }
    newSum.sort(); //给newSum中元素排序
    //document.write(newSum);
    for (var i = 0; i < sum.length; i++) {
        if (sum[i] == newSum[newSum.length - 1]) {
            maxStr += "出现次数最多的元素是：" + elementArr[i] + " 出现次数为：" + sum[i] + "<br/>";
        }
    }
    document.write(maxStr);
    //3、出现次数最多的元素所在的位置
    function foundall(array, x) {
        var index = new Array(); //存放a的位置索引
        var position = 0; //初始化位置
        while (position < array.length) {
            position = array.indexOf(x, position);
            if (position === -1) { //没有找
                break;
            }
            index.push(position); //找到就存储索引
            position += 1; //并从下个位置开始搜索
        }
        document.write(x + "出现的位置是" + index);
        return index;
    }
    var arr = new Array("a", "x", "b", "d", "m", "a", "k", "m", "p", "j", "a");
    foundall(arr, "a");
    </script>
</head>

<body>
</body>

</html>
